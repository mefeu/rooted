<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

</head>
<body>
<input type="text" id="search" />
<button id='searchbutton'>search</button>

<div id='result'></div>
<script>
function getArray(){
    return $.getJSON("http://rooted.ddnss.de/data/treeoflife.json");
}

$("#searchbutton").click(function(){

var toSearch = $('#search').val();

getArray().done(function(json) {
    // now you can use json
    var questions = [];
    //console.log(json.nodes);
    var output = '<ul class="searchresults">';
    $.each(json.nodes, function(key, val) {
	//console.log(key.id);
	if (val.name.toLowerCase().indexOf(toSearch.toLowerCase()) >-1){
	output +=  '<li>' + val.name + " " + val.id + '</li>';
	$.each(json.links, function(linksid, linksval) {
	//console.log(id);
	if (linksval.source == val.id) {
	//console.log(linksval);
	//console.log(val);
	$.each(json.nodes, function(key2, val2){
	if (linksval.source == val2.id) {
	console.log(linksval);
	console.log(val2);
	};
	});

		};
	if (linksval.target == val.id) {
	//console.log(linksval);
	//console.log(val);
	//console.log(json.nodes);
		};
	});
	};
    });
	output += '</ul>';
        $('#result').html(output);
});

});

</script>
</body>
</html>


